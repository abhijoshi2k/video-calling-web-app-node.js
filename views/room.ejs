<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Zoom Clone</title>

	<link rel="stylesheet" href="style.css">

	<script type="text/javascript" src="/socket.io/socket.io.js"></script>
	<script src="https://unpkg.com/peerjs@1.3.1/dist/peerjs.min.js"></script>
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css" rel="stylesheet">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/js/all.min.js"></script>

	<!-- CSS -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

	<!-- jQuery and JS bundle w/ Popper.js -->
	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>


	<script type="text/javascript">
		const ROOM_ID = "<%= roomId %>";
	</script>

</head>
<body>

	

	<div class="main">
		<div class="main__left">
			<div class="main__videos">
				<div id="video-grid">
					
				</div>
			</div>
			<div class="main__controls">
				<div class="main__controls__block">
					<div onclick="muteUnmute()" class="main__controls__button main__mute_button">
						<i class="fas fa-microphone"></i>
						<span class="d-none d-sm-flex">Mute</span>
					</div>
					<div onclick="playStop()" class="main__controls__button main__video_button">
						<i class="fas fa-video"></i>
						<span class="d-none d-sm-flex">Stop Video</span>
					</div>
				</div>
				<div class="main__controls__block">
					<div onclick="flexChange('participant-zone','chat-zone');" class="main__controls__button">
						<i class="fas fa-user-friends"></i>
						<span class="d-none d-sm-flex">Participants</span>
					</div>
					<div onclick="flexChange('chat-zone','participant-zone');" class="main__controls__button">
						<i class="fas fa-comment-alt"></i>
						<span class="d-none d-sm-flex">Chat</span>
					</div>
				</div>
				<div onclick="leaveMeet();" class="main__controls__block">
					<div class="main__controls__button">
						<span class="leave_meeting">Leave Meeting</span>
					</div>
				</div>
			</div>
		</div>
		<div class="main__right" id="chat-zone">
			<div class="main__header">
				<h6>Chat span<br><span class="text-danger close-btn" onclick="flexChange('chat-zone','participant-zone');"><small>Click to go back</small></span></h6>
			</div>
			<div class="main__chat_window">
				<ul class="messages">
					
				</ul>
			</div>
			<div class="main__message_container">
				<input type="text" id="chat_message" class="form-control" placeholder="Type message here...">
			</div>
		</div>
		<div class="main__right" id="participant-zone">
			<div class="main__header">
				<h6>Participants<br><span class="text-danger close-btn" onclick="flexChange('participant-zone','chat-zone');"><small>Click to go back</small></span></h6>
			</div>
			<div class="main__participant_window">
				<ul class="participants">
					
				</ul>
			</div>
		</div>
	</div>

<script type="text/javascript" src="script.js"></script>

<script type="text/javascript">

	setInterval(() => {window.scrollTo(0, 500);}, 1000);

	var x = window.innerWidth;

	window.onresize = () => {

		if(window.innerWidth<713 && x>712)
		{
			x = window.innerWidth;
			document.getElementById('chat-zone').style.left = '100%';
			document.getElementById('participant-zone').style.left = '100%';
		}
		else if(window.innerWidth<576 && x>575)
		{
			x = window.innerWidth;
			document.getElementById('chat-zone').style.left = '100%';
			document.getElementById('participant-zone').style.left = '100%';
		}

	}
</script>

</body>
</html>